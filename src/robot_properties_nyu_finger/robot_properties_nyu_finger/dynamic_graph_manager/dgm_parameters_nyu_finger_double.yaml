#
# @file dgm_parameters_solo12.yaml
# @author Maximilien Naveau (maximilien.naveau@gmail.com)
# @license License BSD-3-Clause
# @copyright Copyright (c) 2019, New York University and Max Planck Gesellschaft.
# @date 2019-05-22
#
# @brief Define the interface between the control and the hardware
#

is_real_robot: true
device:
  name: "nyu_finger_double"
  sensors:
    # joints data
    finger0.joint_positions:
      size: 3
    finger0.joint_velocities:
      size: 3
    finger0.joint_torques:
      size: 3
    finger0.joint_target_torques:
      size: 3
    finger0.joint_encoder_index:
      size: 3

    finger1.joint_positions:
      size: 3
    finger1.joint_velocities:
      size: 3
    finger1.joint_torques:
      size: 3
    finger1.joint_target_torques:
      size: 3
    finger1.joint_encoder_index:
      size: 3
    
    # robot status
    finger0.motor_enabled:
      size: 3
    finger0.motor_ready:
      size: 3
    finger0.motor_board_enabled:
      size: 2
    finger0.motor_board_errors:
      size: 2

    finger1.motor_enabled:
      size: 3
    finger1.motor_ready:
      size: 3
    finger1.motor_board_enabled:
      size: 2
    finger1.motor_board_errors:
      size: 2
  controls:
    finger0.ctrl_joint_torques:
      size: 3
    finger1.ctrl_joint_torques:
      size: 3
hardware_communication:
  max_missed_control: 10
  control_period: 1000000 # in nano second this means 1ms <=> 1kz
  maximum_time_for_user_cmd: 100000
  # Angle between the next index and the home position(joint_positions=12*[0.,])
  # NOTE: FR_HAA and HR_HAA are rotating in the other direction.
  calibration:
    # 'finger0_HAA', 'finger0_HFE', 'finger0_KFE',
    # 'finger1_HAA', 'finger1_HFE', 'finger1_KFE'
    index_to_zero_angle: [
       0.179, 0.497, 0.360,
      -0.224, 0.222, 0.465
    ]
  network_id_0: "enp5s0f1"
  network_id_1: "enp5s0f2"

motor_I: 0.045     # The inertia of a single blmc_motor
motor_KT: 0.025    # The Kt constant of the motor [Nm/A]: tau = I * Kt
motor_gear_ratio: 9 # On the quadruped the gear ration is 1:9
